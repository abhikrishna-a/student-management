{% extends 'base.html' %}

{% block title %}My Courses - Student Management System{% endblock %}

{% block extra_css %}
<style>
    .course-card {
        background: white;
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;
    }
    
    .course-card:hover {
        border-color: #94a3b8;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
        transform: translateY(-2px);
    }
    
    .badge {
        background: #f1f5f9;
        color: #334155;
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-weight: 500;
    }
    
    .badge.success {
        background: #dcfce7;
        color: #166534;
    }
    
    .badge.warning {
        background: #fef9c3;
        color: #854d0e;
    }
    
    .progress-bar {
        background: #e2e8f0;
        border-radius: 9999px;
        overflow: hidden;
        height: 0.5rem;
    }
    
    .progress-fill {
        background: #0f172a;
        height: 100%;
        border-radius: 9999px;
        transition: width 0.3s ease;
    }
</style>
{% endblock %}

{% block page_title %}My Courses{% endblock %}
{% block page_subtitle %}View and manage your enrolled courses{% endblock %}

{% block content %}
<!-- Simple Course List -->
<div class="space-y-4">
    {% if courses %}
        {% for course in courses %}
        <div class="course-card rounded-xl p-6">
            <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <i class="bi 
                        {% if 'python' in course.name|lower %}bi-code-slash
                        {% elif 'database' in course.name|lower %}bi-database
                        {% elif 'javascript' in course.name|lower %}bi-braces
                        {% else %}bi-book{% endif %} text-slate-700 text-xl"></i>
                </div>
                <div class="flex-1">
                    <div class="flex flex-wrap items-start justify-between gap-2 mb-2">
                        <div>
                            <h4 class="text-lg font-semibold text-slate-900">{{ course.name }}</h4>
                            <p class="text-xs text-slate-500">{{ course.code }} • {{ course.instructor|default:'Instructor' }}</p>
                        </div>
                        <span class="badge 
                            {% if course.progress >= 75 %}success
                            {% elif course.progress >= 25 %}warning
                            {% else %}secondary{% endif %}">
                            {{ course.progress|default:0 }}% Complete
                        </span>
                    </div>
                    <p class="text-sm text-slate-600 mb-3">{{ course.description|truncatechars:120 }}</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ course.progress|default:0 }}%"></div>
                    </div>
                    <div class="flex items-center gap-4 mt-2 text-xs text-slate-500">
                        <span><i class="bi bi-clock me-1"></i>{{ course.duration|default:'8' }} weeks</span>
                        <span><i class="bi bi-people me-1"></i>{{ course.enrolled|default:'0' }} students</span>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="text-center py-12 bg-white rounded-xl border border-slate-200">
            <div class="w-16 h-16 mx-auto bg-slate-100 rounded-full flex items-center justify-center mb-4">
                <i class="bi bi-book text-slate-400 text-2xl"></i>
            </div>
            <h3 class="text-lg font-semibold text-slate-700 mb-2">No Courses Found</h3>
            <p class="text-slate-500 mb-4">You haven't enrolled in any courses yet.</p>
            <a href="{% url 'purchase_course' %}" class="inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors">
                <i class="bi bi-cart"></i>
                Browse Courses
            </a>
        </div>
    {% endfor %}
    {% else %}
        <!-- Sample courses for display when no data -->
        <div class="course-card rounded-xl p-6">
            <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center">
                    <i class="bi bi-code-slash text-slate-700 text-xl"></i>
                </div>
                <div class="flex-1">
                    <div class="flex flex-wrap items-start justify-between gap-2 mb-2">
                        <div>
                            <h4 class="text-lg font-semibold text-slate-900">Python Programming</h4>
                            <p class="text-xs text-slate-500">CS101 • Dr. Smith</p>
                        </div>
                        <span class="badge success">75% Complete</span>
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Learn Python programming from basics to advanced concepts including OOP, web development, and data science.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <div class="flex items-center gap-4 mt-2 text-xs text-slate-500">
                        <span><i class="bi bi-clock me-1"></i>8 weeks</span>
                        <span><i class="bi bi-people me-1"></i>245 students</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="course-card rounded-xl p-6">
            <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center">
                    <i class="bi bi-database text-slate-700 text-xl"></i>
                </div>
                <div class="flex-1">
                    <div class="flex flex-wrap items-start justify-between gap-2 mb-2">
                        <div>
                            <h4 class="text-lg font-semibold text-slate-900">Database Management</h4>
                            <p class="text-xs text-slate-500">CS205 • Prof. Johnson</p>
                        </div>
                        <span class="badge warning">45% Complete</span>
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Master SQL, database design, normalization, and advanced querying techniques.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45%"></div>
                    </div>
                    <div class="flex items-center gap-4 mt-2 text-xs text-slate-500">
                        <span><i class="bi bi-clock me-1"></i>10 weeks</span>
                        <span><i class="bi bi-people me-1"></i>189 students</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="course-card rounded-xl p-6">
            <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center">
                    <i class="bi bi-braces text-slate-700 text-xl"></i>
                </div>
                <div class="flex-1">
                    <div class="flex flex-wrap items-start justify-between gap-2 mb-2">
                        <div>
                            <h4 class="text-lg font-semibold text-slate-900">JavaScript Development</h4>
                            <p class="text-xs text-slate-500">WD202 • Prof. Williams</p>
                        </div>
                        <span class="badge">90% Complete</span>
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Modern JavaScript including ES6+, async programming, DOM manipulation, and frameworks.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%"></div>
                    </div>
                    <div class="flex items-center gap-4 mt-2 text-xs text-slate-500">
                        <span><i class="bi bi-clock me-1"></i>12 weeks</span>
                        <span><i class="bi bi-people me-1"></i>156 students</span>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}